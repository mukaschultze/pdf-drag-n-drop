<section>
    <mat-toolbar color="primary" class="toolbar">

        <span>PDF Builder</span>
        <span class="fill-remaining-space"></span>

        <button mat-icon-button matTooltip="Log Definition" (click)="log(this.pdfDefinition, 'pdfDefinition')" *devMode>
            <mat-icon>bug_report</mat-icon>
        </button>

        <button mat-icon-button matTooltip="Log Template" (click)="log(this.pdfTemplate, 'pdfTemplate')" *devMode>
            <mat-icon>bug_report</mat-icon>
        </button>

        <button mat-icon-button matTooltip="Change Theme" (click)="changeTheme()">
            <mat-icon>{{(theme|async) === 'dark-theme' ? 'brightness_4' : 'brightness_5'}}</mat-icon>
        </button>

        <a mat-button href="https://github.com/mukaschultze/pdf-drag-n-drop" target="_blank">
            <img src="../assets/github-circle-white-transparent.svg" class="logo">
            GitHub
        </a>

    </mat-toolbar>
</section>

<div class="full-height row no-scroll">

    <!-- Left -->
    <section class="column content scroll expand">
        <div class="justified">

            <div class="start">
                <pdf-tree></pdf-tree>
            </div>

            <div class="end viewer-toggle">
                <mat-button-toggle-group [value]="viewer|async" (change)="viewer.next($event.value)">
                    <mat-button-toggle value="iframe">iframe</mat-button-toggle>
                    <mat-button-toggle value="pdf-viewer">pdf-viewer</mat-button-toggle>
                    <mat-button-toggle value="ng2-pdfjs-viewer">ng2-pdfjs-viewer</mat-button-toggle>
                </mat-button-toggle-group>
            </div>

        </div>
    </section>

    <!-- Right -->
    <section class="column no-scroll" [ngSwitch]="viewer|async">

        <mat-progress-bar mode="indeterminate" *ngIf="pdfBuilding|async"></mat-progress-bar>

        <ng-container *ngSwitchCase="'iframe'">
            <iframe [src]="((pdfUrl|async)||'about:blank')|safe" width="100%" height="100%" fitContent></iframe>
        </ng-container>

        <ng-container *ngSwitchCase="'pdf-viewer'">
            <pdf-viewer [src]="pdfUrl|async" *ngIf="pdfUrl|async"></pdf-viewer>
        </ng-container>

        <ng-container *ngSwitchCase="'ng2-pdfjs-viewer'">
            <ng2-pdfjs-viewer [pdfSrc]="pdfBlob|async" *ngIf="pdfBlob|async"></ng2-pdfjs-viewer>
        </ng-container>

    </section>

</div>

<!-- <router-outlet></router-outlet> -->